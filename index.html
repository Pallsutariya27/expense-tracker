<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Expense Tracker</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   

<body>
  
<div class="top-buttons">
    <button id="theme-toggle" onclick="toggleTheme()">ğŸŒ™ Dark Mode</button>
    <a href="/predict" class="predict-btn">ğŸ“Š Predict Expenses</a>
    <a href="{{ url_for('export_csv') }}" style="margin-right: 15px; text-decoration: none;">â¬‡ï¸ Download CSV</a>
  <a href="{{ url_for('charts') }}" style="text-decoration: none;">ğŸ“Š View Charts</a>
</head>
</div>


</head>
<body>
  <div class="container">
    <h1>ğŸ’¸ Personal Expense Tracker</h1>
    
    <form action="/add" method="POST">
      <input type="date" name="date" required>
      <input type="text" name="category" placeholder="Category" required><br>
      <input type="number" name="amount" step="0.01" placeholder="Amount" required>
      <input type="text" name="description" placeholder="Description" required>
       <select name="type" required>
        <option value="expense">Expense</option>
        <option value="income">Income</option>
       </select>
      <button type="submit">Add Expense</button>
    </form>

    <h2>Total: â‚¹{{ total }}</h2>
    <h2>Spending by Category</h2>
    <form method="GET" action="/" style="margin: 20px 0;">
      <label for="filter">Filter:</label>
      <select name="filter" id="filter">
        <option value="">All</option>
        <option value="today">Today</option>
        <option value="month">This Month</option>
        <option value="year">This Year</option>
      </select>
       <button type="submit" style="margin-left: 10px;">Apply</button>
    </form>


    <table>
      <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Description</th>
        <th>Action</th>
        <th>Type</th>

      </tr>
      {% for e in expenses %}
      <tr>
        <td>{{ e[1] }}</td>
        <td>{{ e[2] }}</td>
        <td>â‚¹{{ e[3] }}</td>
        <td>{{ e[4] }}</td>
        <td>{{ e[5] }}</td> <!-- Assuming 'type' is the 6th column -->
        <td>
  {% if e[5] == 'income' %}
    <span class="badge bg-success">Income</span>
  {% else %}
    <span class="badge bg-danger">Expense</span>
  {% endif %}
</td>

        <td>
           <a href="/edit/{{ e[0] }}">âœï¸Edit</a>
          <a href="/delete/{{ e[0] }}">âŒDelete</a>
        </td>

      </tr>
      {% endfor %}
    </table>
    <div style="margin-bottom: 20px;">
 
</div>

    


  </div>
  <script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
